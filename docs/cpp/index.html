<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opatIO-cpp: OPAT I/O Library Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">opatIO-cpp<span id="projectnumber">&#160;0.0.1a</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">OPAT I/O Library Documentation </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_docs_2static_2mainpage"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>The <code>opatIO-cpp</code> library is a high-performance C++ library designed for reading, writing, and manipulating OPAT (Open Parameterized Array Table) files. These files are used to store structured numeric, in a compact and efficient format, indexed by some arbitrary length floating point vector. The library provides both programmatic and command-line interfaces, making it suitable for integration into larger software systems or for standalone data inspection and validation tasks.</p>
<p>Key features of <code>opatIO-cpp</code> include:</p><ul>
<li><b>C++ API</b>: A robust API for accessing and manipulating OPAT files programmatically.</li>
<li><b>Data Slicing</b>: Support for slicing tables by rows and columns for efficient data extraction.</li>
<li><b>Raw Data Access</b>: Direct access to raw data for advanced use cases.</li>
<li><b>CLI Tools</b>: Command-line utilities for inspecting, validating, and analyzing OPAT files.</li>
<li><b>Cross-Platform</b>: Compatible with major operating systems, including Linux, macOS, and Windows.</li>
<li><b>Performance</b>: Optimized for speed and low memory overhead, making it suitable for large datasets.</li>
</ul>
<p>The library is part of the broader OPAT ecosystem and is designed to work seamlessly with other tools and libraries in the OPAT suite.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Note</h2>
<p>The <code>opatIO-cpp</code> library is intended only for reading OPAT files. Writing OPAT files is not supported at this time. The library is designed to be fast and efficient, but it does not include all the features of the OPAT file format. For more advanced use cases, consider using the Python version of the library.</p>
<hr  />
<h1><a class="anchor" id="autotoc_md4"></a>
Installation</h1>
<p>You will need <code>meson</code>, <code>cmake</code>, and <code>ninja</code> installed pre-installed. These can be installed with pip </p><div class="fragment"><div class="line">pip install &quot;meson&gt;=1.6.0&quot;</div>
<div class="line">pip install cmake</div>
<div class="line">pip install ninja</div>
</div><!-- fragment --><p> Then you can build and install opat-core </p><div class="fragment"><div class="line">git clone https://github.com/4D-STAR/opat-core</div>
<div class="line">cd opat-core</div>
<div class="line">meson setup build --buildtype=release</div>
<div class="line">meson compile -C build</div>
</div><!-- fragment --><p> If you want to run tests </p><div class="fragment"><div class="line">meson test -C build</div>
</div><!-- fragment --><p> To install headers, libraries, and the command line utilities </p><div class="fragment"><div class="line">meson install -C build</div>
</div><!-- fragment --> <hr  />
<h1><a class="anchor" id="autotoc_md6"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md7"></a>
1. Programmatic (API) Usage</h2>
<p>The OPAT I/O library provides a C++ API for interacting with OPAT files. Below are some common use cases:</p>
<h3><a class="anchor" id="autotoc_md8"></a>
Reading an OPAT File</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opat_i_o_8h.html">opatIO.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    std::string filename = <span class="stringliteral">&quot;example.opat&quot;</span>;</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_o_p_a_t.html">opat::OPAT</a> file = <a class="code hl_function" href="namespaceopat.html#aca57fce2c7ef3e4714709b3d9507d4b0">opat::readOPAT</a>(filename);</div>
<div class="line">    file.<a class="code hl_variable" href="structopat_1_1_o_p_a_t.html#a0c7a30f0a06bb0892f8b166378c80245">header</a>.<a class="code hl_function" href="structopat_1_1_header.html#af80325e25e93dfd6f3dc5938550a3236">print</a>(); <span class="comment">// Print the header information</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceopat_html_aca57fce2c7ef3e4714709b3d9507d4b0"><div class="ttname"><a href="namespaceopat.html#aca57fce2c7ef3e4714709b3d9507d4b0">opat::readOPAT</a></div><div class="ttdeci">OPAT readOPAT(const std::string &amp;filename)</div><div class="ttdoc">Reads an OPAT file and returns its contents as an OPAT structure.</div><div class="ttdef"><b>Definition</b> opatIO.cpp:76</div></div>
<div class="ttc" id="aopat_i_o_8h_html"><div class="ttname"><a href="opat_i_o_8h.html">opatIO.h</a></div><div class="ttdoc">Header file for the OPAT I/O library, providing structures and functions for reading and manipulating...</div></div>
<div class="ttc" id="astructopat_1_1_header_html_af80325e25e93dfd6f3dc5938550a3236"><div class="ttname"><a href="structopat_1_1_header.html#af80325e25e93dfd6f3dc5938550a3236">opat::Header::print</a></div><div class="ttdeci">void print() const</div><div class="ttdoc">Prints the header information to the console.</div><div class="ttdef"><b>Definition</b> opatIO.cpp:257</div></div>
<div class="ttc" id="astructopat_1_1_o_p_a_t_html"><div class="ttname"><a href="structopat_1_1_o_p_a_t.html">opat::OPAT</a></div><div class="ttdoc">Structure to hold the entire OPAT file.</div><div class="ttdef"><b>Definition</b> opatIO.h:500</div></div>
<div class="ttc" id="astructopat_1_1_o_p_a_t_html_a0c7a30f0a06bb0892f8b166378c80245"><div class="ttname"><a href="structopat_1_1_o_p_a_t.html#a0c7a30f0a06bb0892f8b166378c80245">opat::OPAT::header</a></div><div class="ttdeci">Header header</div><div class="ttdoc">Header of the OPAT file.</div><div class="ttdef"><b>Definition</b> opatIO.h:501</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md9"></a>
Accessing a Table by Index and Tag</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opat_i_o_8h.html">opatIO.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_o_p_a_t.html">opat::OPAT</a> file = <a class="code hl_function" href="namespaceopat.html#aca57fce2c7ef3e4714709b3d9507d4b0">opat::readOPAT</a>(<span class="stringliteral">&quot;example.opat&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="class_float_index_vector.html">FloatIndexVector</a> index({0.35, 0.004});</div>
<div class="line">    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; table = file[index][<span class="stringliteral">&quot;data&quot;</span>];</div>
<div class="line">    table.print(); <span class="comment">// Print the table data</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aclass_float_index_vector_html"><div class="ttname"><a href="class_float_index_vector.html">FloatIndexVector</a></div><div class="ttdef"><b>Definition</b> indexVector.h:38</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md10"></a>
Slicing a Table</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opat_i_o_8h.html">opatIO.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_o_p_a_t.html">opat::OPAT</a> file = <a class="code hl_function" href="namespaceopat.html#aca57fce2c7ef3e4714709b3d9507d4b0">opat::readOPAT</a>(<span class="stringliteral">&quot;example.opat&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="class_float_index_vector.html">FloatIndexVector</a> index({0.35, 0.004});</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_slice.html">opat::Slice</a> rowSlice(0, 6);</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_slice.html">opat::Slice</a> colSlice(25, 36);</div>
<div class="line">    <span class="keyword">auto</span> slicedTable = file[index][<span class="stringliteral">&quot;data&quot;</span>].slice(rowSlice, colSlice);</div>
<div class="line">    slicedTable.print(); <span class="comment">// Print the sliced table</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="astructopat_1_1_slice_html"><div class="ttname"><a href="structopat_1_1_slice.html">opat::Slice</a></div><div class="ttdoc">Structure to represent a slice of data.</div><div class="ttdef"><b>Definition</b> opatIO.h:238</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md11"></a>
Retrieving Raw Data</h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="opat_i_o_8h.html">opatIO.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main() {</div>
<div class="line">    <a class="code hl_struct" href="structopat_1_1_o_p_a_t.html">opat::OPAT</a> file = <a class="code hl_function" href="namespaceopat.html#aca57fce2c7ef3e4714709b3d9507d4b0">opat::readOPAT</a>(<span class="stringliteral">&quot;example.opat&quot;</span>);</div>
<div class="line">    <a class="code hl_class" href="class_float_index_vector.html">FloatIndexVector</a> index({0.35, 0.004});</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">double</span>* rawData = file[index][<span class="stringliteral">&quot;data&quot;</span>].getRawData();</div>
<div class="line">    <span class="comment">// Use rawData as needed</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md13"></a>
2. Command-Line Interface (CLI) Usage</h2>
<p>The OPAT I/O library includes several CLI tools for inspecting and validating OPAT files. Below are the available tools and their usage:</p>
<h3><a class="anchor" id="autotoc_md14"></a>
2.1 <code>opatHeader</code></h3>
<p><b>Description:</b> Displays the header information of an OPAT file.</p>
<p><b>Usage:</b> </p><div class="fragment"><div class="line">opatHeader --file &lt;path_to_opat_file&gt;</div>
</div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">opatHeader --file example.opat</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md15"></a>
2.2 <code>opatInspect</code></h3>
<p><b>Description:</b> Displays the header and card catalog information of an OPAT file.</p>
<p><b>Usage:</b> </p><div class="fragment"><div class="line">opatInspect --file &lt;path_to_opat_file&gt;</div>
</div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">opatInspect --file example.opat</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md16"></a>
2.3 <code>opatVerify</code></h3>
<p><b>Description:</b> Verifies if a file is a valid OPAT file.</p>
<p><b>Usage:</b> </p><div class="fragment"><div class="line">opatVerify --file &lt;path_to_opat_file&gt;</div>
</div><!-- fragment --><p><b>Example:</b> </p><div class="fragment"><div class="line">opatVerify --file example.opat</div>
</div><!-- fragment --><hr  />
<h1><a class="anchor" id="autotoc_md18"></a>
Additional Notes</h1>
<ul>
<li>For more detailed examples and API documentation, refer to the header files (<code><a class="el" href="opat_i_o_8h.html" title="Header file for the OPAT I/O library, providing structures and functions for reading and manipulating...">opatIO.h</a></code>, <code><a class="el" href="index_vector_8h.html" title="Header file defining the FloatIndexVector class for handling floating-point index vectors.">indexVector.h</a></code>) and the source code.</li>
<li>Ensure that the OPAT file format adheres to the expected structure to avoid runtime errors.</li>
</ul>
<p>` </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
